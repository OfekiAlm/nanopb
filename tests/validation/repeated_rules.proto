/* Test repeated field validation rules */

syntax = "proto3";

import "validate.proto";
import "nanopb.proto";

option (validate.validate) = true;

/* Test repeated field rules */
message RepeatedRules {
    /* min_items constraint */
    repeated int32 min_items_field = 1 [
        (nanopb).max_count = 10,
        (validate.rules).repeated.min_items = 1
    ];
    
    /* max_items constraint */
    repeated int32 max_items_field = 2 [
        (nanopb).max_count = 10,
        (validate.rules).repeated.max_items = 5
    ];
    
    /* Range constraint */
    repeated int32 range_items_field = 3 [
        (nanopb).max_count = 10,
        (validate.rules).repeated.min_items = 2,
        (validate.rules).repeated.max_items = 8
    ];
    
    /* unique constraint (note: implementation pending) */
    repeated int32 unique_field = 4 [
        (nanopb).max_count = 10,
        (validate.rules).repeated.unique = true
    ];
}

/* Test repeated with string items */
message RepeatedStringRules {
    repeated string names = 1 [
        (nanopb).max_count = 5,
        (nanopb).max_size = 32,
        (validate.rules).repeated.min_items = 1,
        (validate.rules).repeated.max_items = 5
    ];
}
