// Simple example of nanopb validation feature

syntax = "proto3";

import "validate.proto";

// Enable validation for this file
option (validate.validate) = true;

// Example user profile with validation constraints
message UserProfile {
    // Username must be 3-20 characters
    string username = 1 [
        (validate.rules).string.min_len = 3,
        (validate.rules).string.max_len = 20,
        (validate.rules).required = true
    ];
    
    // Age must be 13-120
    int32 age = 2 [
        (validate.rules).int32.gte = 13,
        (validate.rules).int32.lte = 120
    ];
    
    // Email must contain @ symbol
    string email = 3 [
        (validate.rules).string.contains = "@",
        (validate.rules).required = true
    ];
    
    // Status must be one of the defined values
    enum Status {
        INACTIVE = 0;
        ACTIVE = 1;
        SUSPENDED = 2;
    }
    Status status = 4 [(validate.rules).enum.defined_only = true];
}
